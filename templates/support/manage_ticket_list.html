{% extends 'base.html' %}

{% block content %}
    {% include 'snippets/get_navbar.html' %}
    <div class="container my-5 pt-3">
        <h2 class="mb-4">All Tickets</h2>
        <ul class="list-group">
        {% if tickets %}
            {% for ticket in tickets %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <a href="{% url 'support:ticket_detail' ticket.pk %}"
                       class="text-decoration-none">{{ ticket.title }}</a>
                    <span class="text-muted">{{ ticket.user.username }}</span>
                    <span class="badge {% if ticket.status == 'open' %}bg-success{% else %}bg-secondary{% endif %}">
                    {{ ticket.get_status_display }}
                </span>
                </li>
            {% endfor %}
        {% else %}
            <li class="list-group-item">No tickets found.</li>
        {% endif %}

        </ul>
    </div>


{% endblock %}